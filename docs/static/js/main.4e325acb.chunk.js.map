{"version":3,"sources":["Controller.module.css","PersonalTasks.module.css","PersonalInfo.module.css","actions.ts","store.ts","reducer.ts","Provider.tsx","ProjectSelector.tsx","MilestoneSelector.tsx","CustomValuesSelector.tsx","DaysSelector.tsx","TaskStatusSelector.tsx","Controller.tsx","UserTasks.tsx","UnEstimatedTasks.tsx","Chart.tsx","OverviewChart.tsx","OverView.tsx","PersonalTasks.tsx","PersonalInfo.tsx","PersonalChart.tsx","PersonalPage.tsx","App.tsx","serviceWorker.ts","index.tsx","UserTasks.module.css"],"names":["module","exports","header","overflow","avator","ActionTypes","StorageKey","getFromStorage","key","localStorage","getItem","getFromStorageWithSubkey","subkey","concat","setToStorage","item","setItem","setToStorageWithSubkey","initialStateFn","url","URL","pid","PID","mid","MID","custom_eid","CUSTOM_EID","custom_rid","CUSTOM_RID","biz_days_str","BIZ_DAYS","biz_days","_","compact","split","sort","reject_task_status_ids","REJECT_TASK_STATUS_IDS","isOpen","custom_attrs","milestones","tasks","task_status","custom_value_map","WeakMap","updated_time","reducer","state","arguments","length","undefined","action","type","SET_URL","payload","Object","objectSpread","SET_PID","SET_MID","SET_MILESTONES","SET_CUSTOM_EID","SET_CUSTOM_ATTRS","SET_CUSTOM_RID","SET_BIZ_DAYS","join","ADD_BIZ_DAY","biz_day","chain","toConsumableArray","uniq","value","REMOVE_BIZ_DAY","reject","SET_TASKS","SET_TASK_STATUS","SET_CUSTOM_VALUE_MAP","SET_REJECT_TASK_STATUS_IDS","ADD_REJECT_TASK_STATUS_ID","reject_task_status_id","REMOVE_REJECT_TASK_STATUS_ID","OPEN_CONTROLLER","CLOSE_CONTROLLER","UPDATE_DATA","Date","now","baseUrl","replace","initialState","RootContext","createContext","setUrl","setPid","setMid","setMilestones","setCustomEid","setCustomRid","setCustomAttrs","setBizDays","addBizDay","removeBizDay","setTasks","setTaskStatus","setCustomValueMap","toggeRejectTaskStatus","task_status_id","is_reject","openController","closeController","updateData","Provider","_ref","children","_useReducer","useReducer","_useReducer2","slicedToArray","dispatch","useCallback","react_default","a","createElement","ProjectSelector","_useContext","useContext","_useContext$state","statePid","_useState","useState","_useState2","items","setItems","handleChange","e","target","useEffect","asyncToGenerator","regenerator_default","mark","_callee","_ref2","wrap","_context","prev","next","axios","get","sent","data","stop","this","InputGroup","className","InputGroupAddon","addonType","Input","onChange","map","id","name","MilestoneSelector","stateMid","params","project","_callee2","_ref4","_context2","headers","x-disable-pagination","milestone","filter","includes","String","status","CustomValuesSelector","stateEid","stateRid","_callee3","wmap","_context3","t0","Promise","all","_ref5","custom_attr_val","abrupt","_x","apply","t1","dayNameFromIdx","date","idx","getMilestone","find","weekClassName","day","text-danger","text-info","DayItem","format","bizDay","checked","isPlanning","eleId","Fragment","classNames","table-info","biz","isWeekDay","FormGroup","check","inline","Label","disabled","isWeekendDay","UncontrolledTooltip","indexOf","dayName","DaysSelector","_useContext2","_useContext2$state","startM","moment","estimated_start","local","daysInSprint","estimated_finish","diff","times","i","clone","add","getDays","weekdays","chunk","Card","CardHeader","Table","bordered","days","DaysSelector_DayItem","StatusItem","defaultChecked","TaskStatusSelector","_ref3","CardBody","TaskStatusSelector_StatusItem","Controller","stateUrl","setStateUrl","handleUrl","handleSubmit","preventDefault","handleHref","stopPropagation","rotation","toggle","taskboardUrl","project_extra_info","slug","getTaskboardUrl","styles","onClick","index_es","icon","faChevronCircleRight","Badge","color","pill","getSpName","head","last","getRange","href","faExternalLinkAlt","Collapse","Form","onSubmit","defaultValue","placeholder","Button","ProjectSelector_ProjectSelector","MilestoneSelector_MilestoneSelector","CustomValuesSelector_CustomValuesSelector","DaysSelector_DaysSelector","TaskStatusSelector_TaskStatusSelector","barStyles","getTasksByUser","groupBy","getCustomVal","task","has","val","Number","sum","NameAndWorkLoad","username","total","imgSrc","src","tblCls","faGrinBeam","faGrinBeamSweat","faDizzy","Medal","_getGrade","r","isNumber","Math","abs","getGrade","_getGrade2","grade","num","faMedal","UserRow","sums","isPast","hpd","closedTasks","customTotal","setTotal","_useState3","_useState4","progressTotal","setProgressTotal","sumItem","margedTotal","totalStr","photo","random","closed_status","is_closed","orderBy","reverse","closedTotals","mapValues","ts","reduce","result","t","label","status_extra_info","style","sortedTotals","UserTasks_NameAndWorkLoad","custom_input_td","bsSize","step","Link","to","Progress","multi","bar","max","UserTasks_Medal","getCustomAttr","UserTasks","_useState5","_useState6","_useState7","_useState8","setHpd","_useState9","_useState10","activeLen","members","disableSubmit","taskSumByUser","eid","rid","getTaskSumByUser","customAttrE","customAttrR","unassignedSum","endOf","tasksByUser","getClosedTasks","Navbar","light","InputGroupText","faTimes","faEquals","faSyncAlt","UserTasks_UserRow","TaskItem","ref","ListGroupItem","tag","subject","UnEstimatedTasks","ListGroup","UnEstimatedTasks_TaskItem","getTaskCreated","created_date","getSumVal","Chart","setData","days_len","allTaskVal","estimate","getTaskCreatedToday","finished_date","getTaskFinished","es6","width","height","dataKey","fill","stackId","OverviewChart","Chart_Chart","OverView","react","UserTasks_UserTasks","UnEstimatedTasks_UnEstimatedTasks","OverviewChart_OverviewChart","UserStoryLink","user_story_extra_info","usName","title","TaskLink","taskName","PersonalTasks","userInfo","userTasks","assigned_to","b","user_story","totalE","totalR","forEach","size","PersonalTasks_UserStoryLink","PersonalTasks_TaskLink","colSpan","PersonalInfo","PersonalChart","setUserTasks","PersonalPage","props","setUserInfo","match","uid","faArrowCircleLeft","PersonalInfo_PersonalInfo","PersonalTasks_PersonalTasks","PersonalChart_PersonalChart","Alert","App","HashRouter","Provider_Provider","Controller_Controller","Route","exact","path","component","Boolean","window","location","hostname","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","gold","silver","bronze"],"mappings":"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","file":"static/js/main.4e325acb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Controller_header__22s7N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overflow\":\"PersonalTasks_overflow__1Pp9-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avator\":\"PersonalInfo_avator__dwBoZ\"};","export enum ActionTypes {\n  SET_URL = \"SET_URL\",\n  SET_PID = \"SET_PID\",\n  SET_MID = \"SET_MID\",\n  SET_MILESTONES = \"SET_MILESTONES\",\n  SET_CUSTOM_EID = \"SET_CUSTOM_EID\",\n  SET_CUSTOM_RID = \"SET_CUSTOM_RID\",\n  SET_CUSTOM_ATTRS = \"SET_CUSTOM_ATTRS\",\n  SET_BIZ_DAYS = \"SET_BIZ_DAYS\",\n  ADD_BIZ_DAY = \"ADD_BIZ_DAY\",\n  REMOVE_BIZ_DAY = \"REMOVE_BIZ_DAY\",\n  SET_TASKS = \"SET_TASKS\",\n  SET_TASK_STATUS = \"SET_TASK_STATUS\",\n  SET_CUSTOM_VALUE_MAP = \"SET_CUSTOM_VALUE_MAP\",\n  SET_REJECT_TASK_STATUS_IDS = \"SET_REJECT_TASK_STATUS_IDS\",\n  ADD_REJECT_TASK_STATUS_ID = \"ADD_REJECT_TASK_STATUS\",\n  REMOVE_REJECT_TASK_STATUS_ID = \"REMOVE_REJECT_TASK_STATUS\",\n  OPEN_CONTROLLER = \"OPEN_CONTROLLER\",\n  CLOSE_CONTROLLER = \"CLOSE_CONTROLLER\",\n  UPDATE_DATA = \"UPDATE_DATA\"\n}\n\nexport interface IAction {\n  type: ActionTypes;\n  payload?: any;\n  meta?: { [key: string]: any };\n}\n","import _ from \"lodash\";\nexport interface ICustomAttr {\n  id: number;\n  name: string;\n}\nexport interface IMilestone {\n  id: number;\n  name: string;\n  estimated_start: string;\n  estimated_finish: string;\n  slug: string;\n  project: number;\n  project_extra_info: IProjectExtraInfo;\n}\ninterface IProjectExtraInfo {\n  id: number;\n  name: string;\n  slug: string;\n}\ninterface IStatusExtraInfo {\n  name: string;\n  is_closed: boolean;\n}\ninterface IUserStoryExtraInfo {\n  id: number;\n  subject: string;\n  epics: any;\n  ref: number;\n}\nexport interface ITask {\n  id: number;\n  assigned_to: number | null;\n  created_date: string;\n  finished_date: string;\n  is_closed: boolean;\n  subject: string;\n  ref: number;\n  project: number;\n  project_extra_info: IProjectExtraInfo;\n  status: number;\n  status_extra_info: IStatusExtraInfo;\n  user_story: number;\n  user_story_extra_info?: IUserStoryExtraInfo;\n}\nexport interface ITaskStatus {\n  id: number;\n  name: string;\n  order: number;\n  project: number;\n  is_closed: boolean;\n  slug: string;\n}\nexport interface IAttrValue {}\nexport interface ICustomValue {\n  attributes_values: {\n    [key: number]: string;\n  };\n}\nexport interface IUser {\n  id: number;\n  username: string;\n  full_name: string;\n  full_name_display: string;\n  photo: string;\n}\nexport interface IProject {\n  id: number;\n  name: string;\n  members: IUser[];\n}\nexport type ICustomValueMap = WeakMap<ITask, ICustomValue>;\nexport interface IState {\n  url: string;\n  pid: string; // url\n  mid: string; // url\n  custom_eid: string; //  pid\n  custom_rid: string; // pid\n  custom_attrs: ICustomAttr[]; // pid\n  biz_days: string[]; //mid\n  milestones: IMilestone[]; // pid\n  tasks: ITask[]; //mid\n  task_status: ITaskStatus[];\n  custom_value_map: ICustomValueMap; // pid\n  reject_task_status_ids: string[]; // pid\n  updated_time: number;\n  isOpen: boolean;\n}\n\nexport enum StorageKey {\n  URL = \"taiga_url\",\n  PID = \"taiga_pid\",\n  MID = \"taiga_mid\",\n  CUSTOM_EID = \"taiga_custom_eid\",\n  CUSTOM_RID = \"taiga_custom_rid\",\n  BIZ_DAYS = \"taiga_biz_days\",\n  REJECT_TASK_STATUS_IDS = \"reject_task_status_ids\"\n}\n\nexport const getFromStorage = (key: string) => localStorage.getItem(key) || \"\";\n\nexport const getFromStorageWithSubkey = (key: StorageKey, subkey: string) =>\n  subkey ? getFromStorage(`${subkey}/${key}`) : \"\";\n\nexport const setToStorage = (key: string, item: string) => {\n  localStorage.setItem(key, item);\n};\nexport const setToStorageWithSubkey = (\n  key: StorageKey,\n  subkey: string,\n  item: string\n) => {\n  subkey ? setToStorage(`${subkey}/${key}`, item) : null;\n};\nexport const initialStateFn = (): IState => {\n  const url = getFromStorage(StorageKey.URL);\n  const pid = getFromStorage(StorageKey.PID);\n  const mid = getFromStorage(StorageKey.MID);\n  const custom_eid = getFromStorageWithSubkey(StorageKey.CUSTOM_EID, pid);\n  const custom_rid = getFromStorageWithSubkey(StorageKey.CUSTOM_RID, pid);\n  const biz_days_str = getFromStorageWithSubkey(StorageKey.BIZ_DAYS, mid);\n  const biz_days = _.compact(biz_days_str.split(\",\")).sort();\n  const reject_task_status_ids = _.compact(\n    getFromStorageWithSubkey(StorageKey.REJECT_TASK_STATUS_IDS, pid).split(\",\")\n  );\n  const isOpen = !(url && pid && mid && custom_eid && custom_rid);\n  return {\n    url,\n    pid,\n    mid,\n    custom_eid,\n    custom_rid,\n    custom_attrs: [],\n    biz_days,\n    milestones: [],\n    tasks: [],\n    task_status: [],\n    custom_value_map: new WeakMap(),\n    reject_task_status_ids,\n    updated_time: 0,\n    isOpen\n  };\n};\n","import _ from \"lodash\";\nimport { initialStateFn, IState, StorageKey } from \"./store\";\nimport { ActionTypes, IAction } from \"./actions\";\nimport {\n  setToStorage,\n  setToStorageWithSubkey,\n  getFromStorageWithSubkey\n} from \"./store\";\nexport const reducer = (state = initialStateFn(), action: IAction) => {\n  switch (action.type) {\n    case ActionTypes.SET_URL: {\n      const { url } = action.payload;\n      setToStorage(StorageKey.URL, url);\n      return { ...state, url } as IState;\n    }\n    case ActionTypes.SET_PID: {\n      const { pid } = action.payload;\n      setToStorage(StorageKey.PID, pid);\n      return {\n        ...state,\n        pid,\n        mid: \"\",\n        custom_eid: getFromStorageWithSubkey(StorageKey.CUSTOM_EID, pid),\n        custom_rid: getFromStorageWithSubkey(StorageKey.CUSTOM_RID, pid),\n        custom_attrs: [],\n        milestones: [],\n        custom_value_map: new WeakMap()\n      } as IState;\n    }\n    case ActionTypes.SET_MID: {\n      const { mid } = action.payload;\n      setToStorage(StorageKey.MID, mid);\n      return {\n        ...state,\n        mid,\n        tasks: [],\n        biz_days: _.compact(\n          getFromStorageWithSubkey(StorageKey.BIZ_DAYS, mid).split(\",\")\n        ).sort()\n      } as IState;\n    }\n    case ActionTypes.SET_MILESTONES: {\n      const { milestones } = action.payload;\n      return { ...state, milestones } as IState;\n    }\n    case ActionTypes.SET_CUSTOM_EID: {\n      const { custom_eid } = action.payload;\n      setToStorageWithSubkey(StorageKey.CUSTOM_EID, state.pid, custom_eid);\n      return { ...state, custom_eid } as IState;\n    }\n    case ActionTypes.SET_CUSTOM_ATTRS: {\n      const { custom_attrs } = action.payload;\n      return { ...state, custom_attrs } as IState;\n    }\n    case ActionTypes.SET_CUSTOM_RID: {\n      const { custom_rid } = action.payload;\n      setToStorageWithSubkey(StorageKey.CUSTOM_RID, state.pid, custom_rid);\n      return { ...state, custom_rid } as IState;\n    }\n    case ActionTypes.SET_BIZ_DAYS: {\n      const { biz_days } = action.payload;\n      setToStorageWithSubkey(\n        StorageKey.BIZ_DAYS,\n        state.mid,\n        biz_days.join(\",\")\n      );\n      return { ...state, biz_days } as IState;\n    }\n    case ActionTypes.ADD_BIZ_DAY: {\n      const { biz_day } = action.payload;\n      const biz_days = _.chain([...state.biz_days, biz_day])\n        .uniq()\n        .sort()\n        .value();\n      setToStorageWithSubkey(\n        StorageKey.BIZ_DAYS,\n        state.mid,\n        biz_days.join(\",\")\n      );\n      return { ...state, biz_days } as IState;\n    }\n    case ActionTypes.REMOVE_BIZ_DAY: {\n      const { biz_day } = action.payload;\n      const biz_days = _.reject([...state.biz_days], item => item === biz_day);\n      setToStorageWithSubkey(\n        StorageKey.BIZ_DAYS,\n        state.mid,\n        biz_days.join(\",\")\n      );\n      return { ...state, biz_days } as IState;\n    }\n    case ActionTypes.SET_TASKS: {\n      const { tasks } = action.payload;\n      return { ...state, tasks } as IState;\n    }\n    case ActionTypes.SET_TASK_STATUS: {\n      const { task_status } = action.payload;\n      return { ...state, task_status } as IState;\n    }\n    case ActionTypes.SET_CUSTOM_VALUE_MAP: {\n      const { custom_value_map } = action.payload;\n      return { ...state, custom_value_map } as IState;\n    }\n    case ActionTypes.SET_REJECT_TASK_STATUS_IDS: {\n      const { reject_task_status_ids } = action.payload;\n      setToStorageWithSubkey(\n        StorageKey.REJECT_TASK_STATUS_IDS,\n        state.pid,\n        reject_task_status_ids.join(\",\")\n      );\n      return { ...state, reject_task_status_ids } as IState;\n    }\n    case ActionTypes.ADD_REJECT_TASK_STATUS_ID: {\n      const { reject_task_status_id } = action.payload;\n      const reject_task_status_ids = _.chain([\n        ...state.reject_task_status_ids,\n        reject_task_status_id\n      ])\n        .compact()\n        .uniq()\n        .value();\n      setToStorageWithSubkey(\n        StorageKey.REJECT_TASK_STATUS_IDS,\n        state.pid,\n        reject_task_status_ids.join(\",\")\n      );\n      return { ...state, reject_task_status_ids } as IState;\n    }\n    case ActionTypes.REMOVE_REJECT_TASK_STATUS_ID: {\n      const { reject_task_status_id } = action.payload;\n      const reject_task_status_ids = _.reject(\n        [...state.reject_task_status_ids],\n        item => item === reject_task_status_id\n      );\n      setToStorageWithSubkey(\n        StorageKey.REJECT_TASK_STATUS_IDS,\n        state.pid,\n        reject_task_status_ids.join(\",\")\n      );\n      return { ...state, reject_task_status_ids } as IState;\n    }\n    case ActionTypes.OPEN_CONTROLLER: {\n      return { ...state, isOpen: true } as IState;\n    }\n    case ActionTypes.CLOSE_CONTROLLER: {\n      return { ...state, isOpen: false } as IState;\n    }\n    case ActionTypes.UPDATE_DATA: {\n      return { ...state, updated_time: Date.now() } as IState;\n    }\n    default: {\n      return state;\n    }\n  }\n};\n","import React, { createContext, useReducer, useCallback } from \"react\";\nimport { ActionTypes } from \"./actions\";\nimport {\n  initialStateFn,\n  IMilestone,\n  ICustomAttr,\n  ITask,\n  ICustomValueMap,\n  ITaskStatus\n} from \"./store\";\nimport { reducer } from \"./reducer\";\nimport _ from \"lodash\";\nexport const baseUrl = (url: string) => `${url.replace(/[¥/]$/, \"\")}/api/v1`;\n\nconst initialState = initialStateFn();\nexport const RootContext = createContext({\n  state: initialState,\n  setUrl: (url: string) => {},\n  setPid: (pid: string) => {},\n  setMid: (mid: string) => {},\n  setMilestones: (milestones: IMilestone[]) => {},\n  setCustomEid: (custom_eid: string) => {},\n  setCustomRid: (custom_rid: string) => {},\n  setCustomAttrs: (custom_attrs: ICustomAttr[]) => {},\n  setBizDays: (biz_days: string[]) => {},\n  addBizDay: (biz_day: string) => {},\n  removeBizDay: (biz_day: string) => {},\n  setTasks: (tasks: ITask[]) => {},\n  setTaskStatus: (tasks: ITaskStatus[]) => {},\n  setCustomValueMap: (custom_value_map: ICustomValueMap) => {},\n  toggeRejectTaskStatus: (task_status_id: string, is_reject: boolean) => {},\n  openController: () => {},\n  closeController: () => {},\n  updateData: () => {}\n});\n\nexport const Provider = ({ children }: { children: React.ReactNode }) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n  const value = {\n    state,\n    setUrl: useCallback(\n      (url: string) => {\n        dispatch({ type: ActionTypes.SET_URL, payload: { url } });\n      },\n      [dispatch]\n    ),\n    setPid: useCallback(\n      (pid: string) => {\n        dispatch({ type: ActionTypes.SET_PID, payload: { pid } });\n      },\n      [dispatch]\n    ),\n    setMid: useCallback(\n      (mid: string) => {\n        dispatch({ type: ActionTypes.SET_MID, payload: { mid } });\n      },\n      [dispatch]\n    ),\n    setMilestones: useCallback(\n      (milestones: IMilestone[]) => {\n        dispatch({ type: ActionTypes.SET_MILESTONES, payload: { milestones } });\n      },\n      [dispatch]\n    ),\n    setCustomEid: useCallback(\n      (custom_eid: string) => {\n        dispatch({ type: ActionTypes.SET_CUSTOM_EID, payload: { custom_eid } });\n      },\n      [dispatch]\n    ),\n    setCustomRid: useCallback(\n      (custom_rid: string) => {\n        dispatch({ type: ActionTypes.SET_CUSTOM_RID, payload: { custom_rid } });\n      },\n      [dispatch]\n    ),\n    setCustomAttrs: useCallback(\n      (custom_attrs: ICustomAttr[]) => {\n        dispatch({\n          type: ActionTypes.SET_CUSTOM_ATTRS,\n          payload: { custom_attrs }\n        });\n      },\n      [dispatch]\n    ),\n    setBizDays: useCallback(\n      (biz_days: string[]) => {\n        dispatch({ type: ActionTypes.SET_BIZ_DAYS, payload: { biz_days } });\n      },\n      [dispatch]\n    ),\n    addBizDay: useCallback(\n      (biz_day: string) => {\n        dispatch({ type: ActionTypes.ADD_BIZ_DAY, payload: { biz_day } });\n      },\n      [dispatch]\n    ),\n    removeBizDay: useCallback(\n      (biz_day: string) => {\n        dispatch({ type: ActionTypes.REMOVE_BIZ_DAY, payload: { biz_day } });\n      },\n      [dispatch]\n    ),\n    setTasks: useCallback(\n      (tasks: ITask[]) => {\n        dispatch({ type: ActionTypes.SET_TASKS, payload: { tasks } });\n      },\n      [dispatch]\n    ),\n    setTaskStatus: useCallback(\n      (task_status: ITaskStatus[]) => {\n        dispatch({\n          type: ActionTypes.SET_TASK_STATUS,\n          payload: { task_status }\n        });\n      },\n      [dispatch]\n    ),\n\n    setCustomValueMap: useCallback(\n      (custom_value_map: ICustomValueMap) => {\n        dispatch({\n          type: ActionTypes.SET_CUSTOM_VALUE_MAP,\n          payload: { custom_value_map }\n        });\n      },\n      [dispatch]\n    ),\n    toggeRejectTaskStatus: useCallback(\n      (reject_task_status_id: string, is_reject: boolean) => {\n        const type = is_reject\n          ? ActionTypes.ADD_REJECT_TASK_STATUS_ID\n          : ActionTypes.REMOVE_REJECT_TASK_STATUS_ID;\n        dispatch({\n          type,\n          payload: { reject_task_status_id }\n        });\n      },\n      [dispatch]\n    ),\n    openController: useCallback(() => {\n      dispatch({ type: ActionTypes.OPEN_CONTROLLER });\n    }, [dispatch]),\n    closeController: useCallback(() => {\n      dispatch({ type: ActionTypes.CLOSE_CONTROLLER });\n    }, [dispatch]),\n    updateData: useCallback(() => {\n      dispatch({\n        type: ActionTypes.UPDATE_DATA\n      });\n    }, [dispatch])\n  };\n  return <RootContext.Provider value={value}>{children}</RootContext.Provider>;\n};\n","import React, { useCallback, useEffect, useContext, useState } from \"react\";\nimport axios from \"axios\";\nimport { Input, InputGroup, InputGroupAddon } from \"reactstrap\";\nimport { RootContext, baseUrl } from \"./Provider\";\nimport { IProject } from \"./store\";\nexport const ProjectSelector = () => {\n  const {\n    state: { url, pid: statePid },\n    setPid\n  } = useContext(RootContext);\n  const [items, setItems] = useState<IProject[]>([]);\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const pid = e.target.value;\n      if (pid) {\n        setPid(pid);\n      }\n    },\n    [setPid]\n  );\n  useEffect(() => {\n    if (url) {\n      (async () => {\n        const { data: items } = await axios.get(`${baseUrl(url)}/projects`);\n        setItems(items);\n      })();\n    }\n  }, [url, setItems]);\n\n  return (\n    <InputGroup className=\"col\">\n      <InputGroupAddon addonType=\"prepend\">Project</InputGroupAddon>\n      <Input value={statePid} type=\"select\" onChange={handleChange}>\n        <option value=\"\"> --- </option>\n        {items.map(item => (\n          <option key={item.id} value={item.id}>\n            {item.name}\n          </option>\n        ))}\n      </Input>\n    </InputGroup>\n  );\n};\n","import React, { useCallback, useEffect, useContext, useState } from \"react\";\nimport axios from \"axios\";\nimport { Input, InputGroup, InputGroupAddon } from \"reactstrap\";\nimport { RootContext, baseUrl } from \"./Provider\";\nimport { IMilestone, ITask } from \"./store\";\nimport _ from \"lodash\";\n\nexport const MilestoneSelector = () => {\n  const {\n    state: { url, pid, mid: stateMid, updated_time, reject_task_status_ids },\n    setMid,\n    setMilestones,\n    setTasks\n  } = useContext(RootContext);\n  const [items, setItems] = useState<IMilestone[]>([]);\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const id = e.target.value;\n      if (id) {\n        setMid(id);\n      }\n    },\n    [setMid, items]\n  );\n  useEffect(() => {\n    if (url && pid) {\n      (async () => {\n        const { data: items } = await axios.get(`${baseUrl(url)}/milestones`, {\n          params: { project: pid }\n        });\n        setItems(items);\n        setMilestones(items);\n      })();\n    }\n  }, [url, pid]);\n  useEffect(() => {\n    if (url && stateMid) {\n      (async () => {\n        const { data: items } = await axios.get<ITask[]>(\n          `${baseUrl(url)}/tasks`,\n          {\n            headers: {\n              \"x-disable-pagination\": true\n            },\n            params: {\n              milestone: stateMid\n            }\n          }\n        );\n        const tasks = items.filter(\n          item => !_.includes(reject_task_status_ids, String(item.status))\n        );\n        setTasks(tasks);\n      })();\n    }\n  }, [url, stateMid, updated_time, reject_task_status_ids]);\n\n  return (\n    <InputGroup className=\"col\">\n      <InputGroupAddon addonType=\"prepend\">Sprint</InputGroupAddon>\n      <Input type=\"select\" value={stateMid} onChange={handleChange}>\n        <option value=\"\"> --- </option>\n        {items.map(item => (\n          <option key={item.id} value={item.id}>\n            {item.name}\n          </option>\n        ))}\n      </Input>\n    </InputGroup>\n  );\n};\n","import React, { useCallback, useEffect, useContext, useState } from \"react\";\nimport axios from \"axios\";\nimport { Input, InputGroup, InputGroupAddon } from \"reactstrap\";\nimport { ITask, ICustomValue, ICustomAttr } from \"./store\";\nimport { RootContext, baseUrl } from \"./Provider\";\n\nexport const CustomValuesSelector = () => {\n  const {\n    state: { url, pid, custom_eid: stateEid, custom_rid: stateRid, tasks },\n    setCustomEid,\n    setCustomRid,\n    setCustomAttrs,\n    setCustomValueMap\n  } = useContext(RootContext);\n  const [items, setItems] = useState<ICustomAttr[]>([]);\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const id = e.target.value;\n      if (id) {\n        switch (e.target.name) {\n          case \"eid\": {\n            setCustomEid(id);\n            break;\n          }\n          case \"rid\": {\n            setCustomRid(id);\n            break;\n          }\n        }\n      }\n    },\n    [setCustomEid, setCustomRid]\n  );\n  useEffect(() => {\n    if (url && pid) {\n      (async () => {\n        const { data: items } = await axios.get(\n          `${baseUrl(url)}/task-custom-attributes`,\n          { params: { project: pid } }\n        );\n        setItems(items);\n        setCustomAttrs(items);\n      })();\n    }\n  }, [url, pid, setItems, setCustomAttrs]);\n  useEffect(() => {\n    if (url && tasks.length && stateEid && stateRid) {\n      (async () => {\n        const wmap = new WeakMap(\n          await Promise.all(\n            tasks.map(async item => {\n              const { data: custom_attr_val } = await axios.get(\n                `${baseUrl(url)}/tasks/custom-attributes-values/${item.id}`\n              );\n              return [item, custom_attr_val] as [ITask, ICustomValue];\n            })\n          )\n        );\n        setCustomValueMap(wmap);\n      })();\n    }\n  }, [url, tasks, stateEid, stateRid, setCustomValueMap]);\n\n  return (\n    <div className=\"row\">\n      <InputGroup className=\"col\">\n        <InputGroupAddon addonType=\"prepend\">Estimate</InputGroupAddon>\n        <Input\n          value={stateEid}\n          name=\"eid\"\n          type=\"select\"\n          onChange={handleChange}\n        >\n          <option value=\"\"> --- </option>\n          {items.map(item => (\n            <option key={item.id} value={item.id}>\n              {item.name}\n            </option>\n          ))}\n        </Input>\n      </InputGroup>\n      <InputGroup className=\"col\">\n        <InputGroupAddon addonType=\"prepend\">Result</InputGroupAddon>\n        <Input\n          value={stateRid}\n          name=\"rid\"\n          type=\"select\"\n          onChange={handleChange}\n        >\n          <option> --- </option>\n          {items.map(item => (\n            <option key={item.id} value={item.id}>\n              {item.name}\n            </option>\n          ))}\n        </Input>\n      </InputGroup>\n    </div>\n  );\n};\n","import React, { useEffect, useState, useContext, useCallback } from \"react\";\nimport classNames from \"classnames\";\nimport {\n  UncontrolledTooltip,\n  Table,\n  Card,\n  CardHeader,\n  Input,\n  Label,\n  FormGroup,\n  Badge\n} from \"reactstrap\";\nimport { IMilestone } from \"./store\";\nimport { RootContext } from \"./Provider\";\nimport moment, { Moment } from \"moment\";\nimport biz from \"moment-business\";\nimport _ from \"lodash\";\nexport const isToday = (date: string) => {\n  moment()\n    .local()\n    .format(\"YYYY-MM-DD\") ===\n    moment(date)\n      .local()\n      .format(\"YYYY-MM-DD\");\n};\nexport const dayNameFromIdx = (date: string, idx: number) => {\n  if (idx === -1) {\n    return \"\";\n  }\n  if (idx === 0) {\n    return \"Planning\";\n  }\n  return `Day ${idx}`;\n};\n\nexport const dayName = (date: string, biz_days: string[]) => {\n  const idx = biz_days.indexOf(date);\n  return dayNameFromIdx(date, idx);\n};\nexport const getMilestone = (mid: string, items: IMilestone[]) =>\n  items.find(item => String(item.id) === mid);\nconst getDays = (item: IMilestone) => {\n  const startM = moment(item.estimated_start).local();\n  const finishM = moment(item.estimated_finish).local();\n  const daysInSprint = finishM.diff(startM, \"days\");\n  return _.times(daysInSprint).map(i => startM.clone().add(i, \"days\"));\n};\nconst getDefaultBizDays = (items: Moment[]) =>\n  items\n    .filter(item => biz.isWeekDay(item))\n    .map(item => item.format(\"YYYY-MM-DD\"));\n\nconst weekClassName = (day: number) => ({\n  \"text-danger\": day === 0,\n  \"text-info\": day === 6\n});\n\nconst DayItem = ({\n  item,\n  biz_days,\n  idx\n}: {\n  item: Moment | null;\n  biz_days: string[];\n  idx: number;\n}) => {\n  if (!item) {\n    return (\n      <td>\n        <br />\n      </td>\n    );\n  }\n  const { addBizDay, removeBizDay } = useContext(RootContext);\n  const value = item.format(\"YYYY-MM-DD\");\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const bizDay = e.target.value;\n      e.target.checked ? addBizDay(bizDay) : removeBizDay(bizDay);\n    },\n    [addBizDay, removeBizDay]\n  );\n  const isPlanning = value === biz_days[0];\n  const eleId = `biz-day-${value}`;\n  return (\n    <>\n      <td\n        className={classNames(weekClassName(idx), { \"table-info\": isPlanning })}\n        id={eleId}\n      >\n        {biz.isWeekDay(item) ? (\n          <FormGroup check inline>\n            <Label check>\n              <Input\n                onChange={handleChange}\n                disabled={biz.isWeekendDay(item)}\n                value={value}\n                type=\"checkbox\"\n                checked={_.includes(biz_days, value)}\n                className=\"form-check-input\"\n              />\n              {value}\n            </Label>\n          </FormGroup>\n        ) : (\n          <span>{value}</span>\n        )}\n      </td>\n      {_.includes(biz_days, value) ? (\n        <UncontrolledTooltip target={eleId}>\n          {dayName(value, biz_days)}\n        </UncontrolledTooltip>\n      ) : null}\n    </>\n  );\n};\n\nexport const DaysSelector = () => {\n  const {\n    state: { mid, milestones, biz_days },\n    setBizDays\n  } = useContext(RootContext);\n  const [items, setItems] = useState<Moment[]>([]);\n  useEffect(() => {\n    const milestone = getMilestone(mid, milestones);\n    if (milestone) {\n      const items = getDays(milestone);\n      setItems(items);\n      if (biz_days.length <= 1) {\n        setBizDays(getDefaultBizDays(items));\n      }\n    }\n  }, [mid, milestones, biz_days]);\n  if (items.length === 0) {\n    return null;\n  } else {\n    const weekdays = _.chunk(\n      [..._.times(items[0].day(), () => null), ...items],\n      7\n    );\n    return (\n      <Card>\n        <CardHeader>Business Days</CardHeader>\n        <Table bordered>\n          <thead>\n            <tr>\n              {moment.weekdays().map((item, idx) => (\n                <th\n                  key={idx}\n                  className={classNames(\"text-center\", weekClassName(idx))}\n                >\n                  {item}\n                </th>\n              ))}\n            </tr>\n          </thead>\n          <tbody>\n            {weekdays.map((days, i) => (\n              <tr key={i}>\n                {days.map((item, idx) => (\n                  <DayItem\n                    idx={idx}\n                    key={idx}\n                    item={item}\n                    biz_days={biz_days}\n                  />\n                ))}\n              </tr>\n            ))}\n          </tbody>\n        </Table>\n      </Card>\n    );\n  }\n};\n","import React, { useCallback, useEffect, useContext, useState } from \"react\";\nimport axios from \"axios\";\nimport _ from \"lodash\";\nimport { RootContext, baseUrl } from \"./Provider\";\nimport {\n  Card,\n  CardHeader,\n  CardBody,\n  Form,\n  Input,\n  FormGroup,\n  Label\n} from \"reactstrap\";\nimport { ITaskStatus } from \"./store\";\nconst StatusItem = ({ item }: { item: ITaskStatus }) => {\n  const {\n    state: { reject_task_status_ids },\n    toggeRejectTaskStatus\n  } = useContext(RootContext);\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      const id = e.target.value;\n      toggeRejectTaskStatus(String(id), !e.target.checked);\n    },\n    [toggeRejectTaskStatus]\n  );\n  return (\n    <FormGroup check inline>\n      <Label check>\n        <Input\n          onChange={handleChange}\n          type=\"checkbox\"\n          value={item.id}\n          defaultChecked={!_.includes(reject_task_status_ids, String(item.id))}\n        />\n        {item.name}\n      </Label>\n    </FormGroup>\n  );\n};\nexport const TaskStatusSelector = () => {\n  const {\n    state: { url, pid },\n    setTaskStatus\n  } = useContext(RootContext);\n  const [items, setItems] = useState<ITaskStatus[]>([]);\n  useEffect(() => {\n    if (url && pid) {\n      (async () => {\n        const { data: items } = await axios.get(\n          `${baseUrl(url)}/task-statuses`,\n          {\n            params: { project: pid }\n          }\n        );\n        setItems(items);\n        setTaskStatus(items);\n      })();\n    }\n  }, [url, pid]);\n  if (items.length === 0) {\n    return null;\n  }\n  return (\n    <Card>\n      <CardHeader>Task status</CardHeader>\n      <CardBody>\n        {items.map(item => (\n          <StatusItem key={item.id} item={item} />\n        ))}\n      </CardBody>\n    </Card>\n  );\n};\n","import React, { useContext, useState, useCallback } from \"react\";\nimport _ from \"lodash\";\nimport classNames from \"classnames\";\nimport { RootContext } from \"./Provider\";\nimport {\n  Card,\n  CardHeader,\n  Collapse,\n  Form,\n  Input,\n  InputGroup,\n  InputGroupAddon,\n  Button,\n  Badge\n} from \"reactstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faChevronCircleRight,\n  faExternalLinkAlt\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { ProjectSelector } from \"./ProjectSelector\";\nimport { MilestoneSelector } from \"./MilestoneSelector\";\nimport { CustomValuesSelector } from \"./CustomValuesSelector\";\nimport { DaysSelector, getMilestone } from \"./DaysSelector\";\nimport { TaskStatusSelector } from \"./TaskStatusSelector\";\nimport { IMilestone } from \"./store\";\nimport styles from \"./Controller.module.css\";\nconst getSpName = (mid: string, items: IMilestone[]) =>\n  _.get(getMilestone(mid, items), \"name\", \"\");\nconst getTaskboardUrl = (url: string, mid: string, items: IMilestone[]) => {\n  const milestone = getMilestone(mid, items);\n  if (url && milestone) {\n    return `${url}/project/${milestone.project_extra_info.slug}/taskboard/${\n      milestone.slug\n    }`;\n  } else {\n    return \"\";\n  }\n};\n\nconst getRange = (biz_days: string[]) => {\n  if (biz_days.length > 1) {\n    return `[${_.head(biz_days)} - ${_.last(biz_days)}]`;\n  } else {\n    return \"\";\n  }\n};\nexport const Controller = () => {\n  const {\n    state: { url: stateUrl, isOpen, mid, milestones, biz_days },\n    setUrl,\n    openController,\n    closeController\n  } = useContext(RootContext);\n  const [url, setStateUrl] = useState(\"\");\n  const handleUrl = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      setStateUrl(e.target.value);\n    },\n    [setStateUrl]\n  );\n  const handleSubmit = useCallback(\n    (e: React.FormEvent) => {\n      if (url) {\n        setUrl(url);\n      }\n      e.preventDefault();\n    },\n    [url, setUrl]\n  );\n  const handleHref = useCallback((e: React.FormEvent) => {\n    e.stopPropagation();\n  }, []);\n  const rotation = isOpen ? 90 : undefined;\n  const toggle = useCallback(() => {\n    if (isOpen) {\n      closeController();\n    } else {\n      openController();\n    }\n  }, [openController, closeController, isOpen]);\n  const taskboardUrl = getTaskboardUrl(stateUrl, mid, milestones);\n  return (\n    <Card>\n      <CardHeader className={classNames(styles.header)} onClick={toggle}>\n        <FontAwesomeIcon rotation={rotation} icon={faChevronCircleRight} />\n        <Badge color=\"primary\" pill className=\"p-1 m-1\">\n          <span>{getSpName(mid, milestones)}</span>\n        </Badge>\n        <Badge className=\"p-1 m-1\">\n          <span>{getRange(biz_days)}</span>\n        </Badge>\n        {taskboardUrl ? (\n          <a\n            target=\"_blank\"\n            onClick={handleHref}\n            className=\"float-right\"\n            href={taskboardUrl}\n          >\n            <FontAwesomeIcon className=\"mr-1\" icon={faExternalLinkAlt} />\n            Taskboard\n          </a>\n        ) : null}\n      </CardHeader>\n      <Collapse isOpen={isOpen}>\n        <Form onSubmit={handleSubmit}>\n          <InputGroup>\n            <InputGroupAddon addonType=\"prepend\">URL</InputGroupAddon>\n            <Input\n              defaultValue={stateUrl}\n              onChange={handleUrl}\n              placeholder=\"http://hostname:port\"\n            />\n            <InputGroupAddon addonType=\"append\">\n              <Button>Set</Button>\n            </InputGroupAddon>\n          </InputGroup>\n        </Form>\n        <div className=\"row\">\n          <ProjectSelector />\n          <MilestoneSelector />\n        </div>\n        <CustomValuesSelector />\n        <DaysSelector />\n        <TaskStatusSelector />\n      </Collapse>\n    </Card>\n  );\n};\n","import React, { useCallback, useContext, useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { ICustomValueMap, IProject, IUser, ITask, ICustomAttr } from \"./store\";\nimport { RootContext, baseUrl } from \"./Provider\";\nimport classNames from \"classnames\";\nimport {\n  Table,\n  Button,\n  Navbar,\n  Form,\n  Input,\n  InputGroup,\n  InputGroupAddon,\n  InputGroupText,\n  Progress\n} from \"reactstrap\";\nimport _ from \"lodash\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faSyncAlt,\n  faMedal,\n  faTimes,\n  faEquals,\n  faGrinBeam,\n  faGrinBeamSweat,\n  faDizzy\n} from \"@fortawesome/free-solid-svg-icons\";\nimport styles from \"./UserTasks.module.css\";\nimport moment from \"moment\";\nimport { Link } from \"react-router-dom\";\n\nconst barStyles = [\"success\", \"warning\", \"info\", \"danger\"];\nconst getTasksByUser = (items: ITask[]) => _.groupBy(items, \"assigned_to\");\nconst getClosedTasks = (items: ITask[]) => items.filter(item => item.is_closed);\nexport const parseCustomVal = (val: string) =>\n  _.chain(val)\n    .replace(/[^0-9.+,]/g, \"\")\n    .replace(/[+]/g, \",\")\n    .split(\",\")\n    .compact()\n    .map(Number)\n    .sum()\n    .value();\n\nexport const getCustomVal = (\n  custom_value_map: ICustomValueMap,\n  task: ITask,\n  id: number\n) => {\n  if (custom_value_map.has(task)) {\n    return parseCustomVal(\n      _.get(custom_value_map.get(task), `attributes_values.${id}`, \"0\")\n    );\n  } else {\n    return 0;\n  }\n};\nconst getGrade = (e: number, r: number): [string | null, number] => {\n  if (_.isNumber(e) && _.isNumber(r) && e > 0) {\n    const diff = Math.abs(e - r) / e;\n    if (diff <= 0.05) {\n      return [\"gold\", 3];\n    }\n    if (diff <= 0.1) {\n      return [\"silver\", 2];\n    }\n    if (diff < 0.2) {\n      return [\"bronze\", 1];\n    }\n  }\n  return [null, 0];\n};\nconst NameAndWorkLoad = ({\n  username,\n  val,\n  total,\n  imgSrc\n}: {\n  username: string;\n  val: number;\n  total: number;\n  imgSrc: string;\n}) => {\n  if (!val) {\n    return (\n      <>\n        <td>\n          <img className={styles.avator} src={imgSrc} /> {username}\n        </td>\n        <td />\n      </>\n    );\n  }\n  const diff = (val - total) / total;\n  let icon;\n  let tblCls;\n  if (diff < -0.1) {\n    icon = faGrinBeam;\n    tblCls = \"\";\n  } else if (diff <= 0.1) {\n    tblCls = \"table-success\";\n    icon = faGrinBeam;\n  } else if (diff <= 0.2) {\n    tblCls = \"table-warning\";\n    icon = faGrinBeamSweat;\n  } else {\n    tblCls = \"table-danger\";\n    icon = faDizzy;\n  }\n  return (\n    <>\n      <td className={tblCls}>\n        <img className={styles.avator} src={imgSrc} /> {username}\n        <FontAwesomeIcon className=\"mx-1\" icon={icon} />\n      </td>\n      <td className={classNames(tblCls, \"text-right\")}>{val}</td>\n    </>\n  );\n};\n\nexport const Medal = ({ e, r }: { e: number; r: number }) => {\n  const [grade, num] = getGrade(e, r);\n  if (grade) {\n    return (\n      <>\n        {_.times(num).map(i => (\n          <FontAwesomeIcon key={i} className={styles[grade]} icon={faMedal} />\n        ))}\n      </>\n    );\n  } else {\n    return null;\n  }\n};\ninterface IProgressTotal {\n  status: number;\n  total: number;\n  style?: string;\n  label: string;\n}\nconst UserRow = ({\n  item,\n  sums,\n  isPast,\n  total,\n  hpd,\n  closedTasks\n}: {\n  item: IUser;\n  sums: { [key: string]: { e: number; r: number } };\n  isPast: boolean;\n  total: number;\n  hpd: number;\n  closedTasks: ITask[];\n}) => {\n  const {\n    state: { custom_value_map, custom_eid, reject_task_status_ids, task_status }\n  } = useContext(RootContext);\n  const [customTotal, setTotal] = useState<number>(0);\n  const [progressTotal, setProgressTotal] = useState<IProgressTotal[]>([]);\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      setTotal(Number(e.target.value) || 0);\n    },\n    [setTotal]\n  );\n  const sumItem = _.get(sums, item.id);\n  const e = _.get(sumItem, \"e\");\n  const r = _.get(sumItem, \"r\");\n  const margedTotal = customTotal || total;\n  const totalStr = String(margedTotal);\n  const imgSrc = item.photo || `http://i.pravatar.cc/80?u=${Math.random()}`;\n  useEffect(() => {\n    const closed_status = _.chain(task_status)\n      .filter(item => item.is_closed)\n      .reject(item => _.includes(reject_task_status_ids, String(item.id)))\n      .orderBy(\"id\")\n      .reverse()\n      .map(item => item.id)\n      .value();\n    const closedTotals = _.chain(closedTasks)\n      .groupBy(\"status\")\n      .mapValues(ts =>\n        _.reduce(\n          ts,\n          (result, t) => {\n            result.status = t.status;\n            result.total += getCustomVal(\n              custom_value_map,\n              t,\n              Number(custom_eid)\n            );\n            result.label = t.status_extra_info.name;\n            return result;\n          },\n          { status: 0, total: 0, label: \"\", style: \"\" }\n        )\n      )\n      .value();\n    const sortedTotals = _.orderBy(closedTotals, \"status\")\n      .reverse()\n      .map(item => ({\n        ...item,\n        style: barStyles[closed_status.indexOf(item.status)]\n      }));\n    setProgressTotal(sortedTotals);\n  }, [\n    setProgressTotal,\n    custom_eid,\n    custom_value_map,\n    closedTasks,\n    task_status,\n    reject_task_status_ids\n  ]);\n  return (\n    <tr key={item.id}>\n      {total > 0 ? (\n        <>\n          <NameAndWorkLoad\n            username={item.username}\n            val={e}\n            total={margedTotal}\n            imgSrc={imgSrc}\n          />\n          <td className=\"text-right\">{total}</td>\n          <td className={styles.custom_input_td}>\n            <Input\n              bsSize=\"sm\"\n              type=\"number\"\n              className=\"text-right\"\n              value={totalStr}\n              step={hpd}\n              onChange={handleChange}\n            />\n          </td>\n        </>\n      ) : (\n        <>\n          <td>\n            <img className={styles.avator} src={imgSrc} />{\" \"}\n            <Link to={`/${item.id}`}>{item.username}</Link>\n          </td>\n          <td className=\"text-right\">{e}</td>\n          <td className=\"text-right\">{r}</td>\n          <td>\n            {_.isNumber(e) && (\n              <Progress multi>\n                {progressTotal.map((item, idx) => (\n                  <Progress\n                    bar\n                    key={idx}\n                    value={item.total}\n                    color={item.style}\n                    max={e}\n                  >\n                    {item.label}\n                  </Progress>\n                ))}\n              </Progress>\n            )}\n          </td>\n        </>\n      )}\n\n      {isPast ? (\n        <td>\n          <Medal e={e} r={r} />\n        </td>\n      ) : null}\n    </tr>\n  );\n};\nconst getTaskSumByUser = (\n  items: ITask[],\n  custom_value_map: ICustomValueMap,\n  custom_eid: string,\n  custom_rid: string\n) => {\n  const eid = Number(custom_eid);\n  const rid = Number(custom_rid);\n  const tasksByUser = _.mapValues(getTasksByUser(items), tasks =>\n    _.chain(tasks)\n      .map(task => ({\n        e: getCustomVal(custom_value_map, task, eid),\n        r: getCustomVal(custom_value_map, task, rid)\n      }))\n      .reduce((result, val) => ({ e: result.e + val.e, r: result.r + val.r }), {\n        e: 0,\n        r: 0\n      })\n      .value()\n  );\n  return tasksByUser;\n};\nexport const getCustomAttr = (items: ICustomAttr[], id: number) =>\n  items.find(item => item.id === id);\nexport const UserTasks = () => {\n  const {\n    state: {\n      url,\n      pid,\n      tasks,\n      custom_value_map,\n      custom_attrs,\n      custom_eid,\n      custom_rid,\n      biz_days\n    },\n    updateData\n  } = useContext(RootContext);\n  const [items, setItems] = useState<IUser[]>([]);\n  const [hpd, setHpd] = useState<number>(0);\n  const [total, setTotal] = useState<number>(0);\n  const activeLen = biz_days.length - 1;\n  useEffect(() => {\n    if (url && pid) {\n      (async () => {\n        const {\n          data: { members }\n        } = await axios.get<IProject>(`${baseUrl(url)}/projects/${pid}`);\n        setItems(members);\n      })();\n    }\n  }, [url, pid, setItems]);\n  const handleChange = useCallback(\n    (e: React.ChangeEvent<HTMLInputElement>) => {\n      setHpd(Number(e.target.value) || 0);\n    },\n    [setHpd]\n  );\n  const disableSubmit = useCallback((e: React.FormEvent<HTMLFormElement>) => {\n    e.preventDefault();\n    e.stopPropagation();\n  }, []);\n  useEffect(() => {\n    setTotal(hpd * activeLen);\n  }, [hpd, activeLen, setTotal]);\n  const taskSumByUser = getTaskSumByUser(\n    tasks,\n    custom_value_map,\n    custom_eid,\n    custom_rid\n  );\n  const customAttrE = getCustomAttr(custom_attrs, Number(custom_eid));\n  const customAttrR = getCustomAttr(custom_attrs, Number(custom_rid));\n  if (!customAttrE || !customAttrR || biz_days.length <= 1) {\n    return null;\n  }\n  const unassignedSum = _.get(taskSumByUser, \"null.e\", 0);\n  const isPlanning = total > 0;\n  const isPast =\n    !isPlanning &&\n    moment().diff(\n      moment(_.last(biz_days))\n        .local()\n        .endOf(\"days\")\n    ) > 0;\n  const tasksByUser = getTasksByUser(getClosedTasks(tasks));\n  return (\n    <>\n      <Navbar color=\"light\" light>\n        <Form inline={true} className=\"mr-auto\" onSubmit={disableSubmit}>\n          <InputGroup>\n            <Input\n              type=\"number\"\n              step=\"0.5\"\n              placeholder=\"hours / day\"\n              className=\"text-right\"\n              onChange={handleChange}\n            />\n            <InputGroupAddon addonType=\"append\">\n              <InputGroupText>\n                <FontAwesomeIcon className=\"mx-2\" icon={faTimes} />\n                {activeLen} [days]\n                <FontAwesomeIcon className=\"mx-2\" icon={faEquals} />\n              </InputGroupText>\n              {total > 0 ? (\n                <>\n                  <InputGroupText className=\"bg-white\">\n                    <strong>{total}</strong>\n                  </InputGroupText>\n                  <InputGroupText>hours / sprint</InputGroupText>\n                </>\n              ) : null}\n            </InputGroupAddon>\n          </InputGroup>\n        </Form>\n        <Button onClick={updateData}>\n          <FontAwesomeIcon icon={faSyncAlt} />\n        </Button>\n      </Navbar>\n      <Table bordered>\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>{customAttrE.name}</th>\n            {isPlanning ? (\n              <>\n                <th>Total</th> <th>Custom</th>\n              </>\n            ) : (\n              <>\n                <th>{customAttrR.name}</th>\n                <th>Progress</th>\n              </>\n            )}\n            {isPast ? <th>Grade</th> : null}\n          </tr>\n        </thead>\n        <tbody>\n          {items.map(item => (\n            <UserRow\n              key={item.id}\n              isPast={isPast}\n              item={item}\n              sums={taskSumByUser}\n              total={total}\n              hpd={hpd}\n              closedTasks={tasksByUser[item.id] || []}\n            />\n          ))}\n          <tr key=\"null\">\n            <td>unassigned</td>\n            <td className=\"text-right text-danger\">{unassignedSum}</td>\n            <td />\n            <td />\n            {isPast ? <td /> : null}\n          </tr>\n        </tbody>\n      </Table>\n    </>\n  );\n};\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { RootContext } from \"./Provider\";\nimport { ITask } from \"./store\";\nimport { ListGroup, ListGroupItem, Card, CardHeader } from \"reactstrap\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faExternalLinkAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { getCustomVal } from \"./UserTasks\";\nconst TaskItem = ({ url, item }: { item: ITask; url: string }) => {\n  const {\n    project_extra_info: { slug }\n  } = item;\n  const href = `${url}/project/${slug}/task/${item.ref}`;\n  return (\n    <ListGroupItem tag=\"a\" target=\"_blank\" href={href}>\n      <FontAwesomeIcon icon={faExternalLinkAlt} /> {item.subject}\n    </ListGroupItem>\n  );\n};\nexport const UnEstimatedTasks = () => {\n  const {\n    state: { url, tasks, custom_value_map, custom_eid }\n  } = useContext(RootContext);\n  const [items, setItems] = useState<ITask[]>([]);\n  useEffect(() => {\n    if (tasks.length > 0 && custom_eid) {\n      const eid = Number(custom_eid);\n      const items = tasks.filter(\n        task => getCustomVal(custom_value_map, task, eid) === 0\n      );\n      if (tasks.length > items.length) {\n        setItems(items);\n      }\n    }\n  }, [tasks, custom_value_map, custom_eid]);\n  if (items.length === 0) {\n    return null;\n  } else {\n    return (\n      <Card>\n        <CardHeader>Un estimated tasks</CardHeader>\n        <ListGroup>\n          {items.map(item => (\n            <TaskItem url={url} key={item.id} item={item} />\n          ))}\n        </ListGroup>\n      </Card>\n    );\n  }\n};\n","import React, { useContext, useState, useEffect } from \"react\";\nimport {\n  ComposedChart,\n  Tooltip,\n  Legend,\n  Line,\n  XAxis,\n  YAxis,\n  Bar\n} from \"recharts\";\nimport { ITask, ICustomValueMap } from \"./store\";\nimport _ from \"lodash\";\nimport moment from \"moment\";\nimport { RootContext } from \"./Provider\";\nimport { dayNameFromIdx } from \"./DaysSelector\";\nimport { getCustomVal } from \"./UserTasks\";\nimport { Card, CardHeader } from \"reactstrap\";\ninterface IChartItem {\n  label: string;\n  estimate: number;\n  result?: number;\n  add?: number;\n}\n\nconst getTaskFinished = (tasks: ITask[], date: string) =>\n  tasks.filter(task =>\n    task.finished_date\n      ? moment(date)\n          .local()\n          .endOf(\"days\")\n          .diff(moment(task.finished_date)) > 0\n      : false\n  );\n\nconst getTaskCreatedToday = (tasks: ITask[], date: string) =>\n  tasks.filter(\n    task =>\n      moment(date)\n        .local()\n        .format(\"YYYY-MM-DD\") ===\n      moment(task.created_date)\n        .local()\n        .format(\"YYYY-MM-DD\")\n  );\n\nconst getTaskCreated = (tasks: ITask[], date: string) =>\n  tasks.filter(\n    task =>\n      moment(date)\n        .endOf(\"days\")\n        .diff(moment(task.created_date)) > 0\n  );\n\nconst getSumVal = (\n  custom_value_map: ICustomValueMap,\n  tasks: ITask[],\n  custom_eid: string\n) => {\n  return _.chain(tasks)\n    .map(task => getCustomVal(custom_value_map, task, Number(custom_eid)))\n    .sum()\n    .value();\n};\nexport const Chart = ({ tasks }: { tasks: ITask[] }) => {\n  const [data, setData] = useState<IChartItem[]>([]);\n  const {\n    state: { biz_days, custom_value_map, custom_eid }\n  } = useContext(RootContext);\n  useEffect(() => {\n    const days_len = biz_days.length;\n    if (days_len > 0 && tasks.length > 0 && custom_eid) {\n      const allTaskVal = getSumVal(\n        custom_value_map,\n        getTaskCreated(tasks, biz_days[0]),\n        custom_eid\n      );\n      const data = biz_days.map((day, idx) => {\n        const label = dayNameFromIdx(day, idx);\n        const estimate = allTaskVal - (allTaskVal * idx) / (days_len - 1);\n        if (\n          moment()\n            .local()\n            .endOf(\"days\")\n            .diff(moment(day)) > 0\n        ) {\n          const add =\n            idx === 0\n              ? 0\n              : getSumVal(\n                  custom_value_map,\n                  getTaskCreatedToday(tasks, day),\n                  custom_eid\n                );\n          const result =\n            getSumVal(\n              custom_value_map,\n              getTaskCreated(tasks, day),\n              custom_eid\n            ) -\n            add -\n            getSumVal(\n              custom_value_map,\n              getTaskFinished(tasks, day),\n              custom_eid\n            );\n          return { label, estimate, result, add };\n        } else {\n          return { label, estimate };\n        }\n      });\n      setData(data);\n    } else {\n      setData([]);\n    }\n  }, [tasks, biz_days, custom_eid, custom_value_map, setData]);\n  if (data.length === 0) {\n    return null;\n  } else {\n    return (\n      <Card>\n        <CardHeader>Burn down chart</CardHeader>\n        <ComposedChart data={data} width={800} height={400}>\n          <YAxis />\n          <XAxis dataKey=\"label\" />\n          <Tooltip />\n          <Bar dataKey=\"result\" fill=\"#8884d8\" stackId=\"a\" />\n          <Bar dataKey=\"add\" fill=\"#82ca9d\" stackId=\"a\" />\n          <Line dataKey=\"estimate\" />\n        </ComposedChart>\n      </Card>\n    );\n  }\n};\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { RootContext } from \"./Provider\";\nimport { Chart } from \"./Chart\";\n\nexport const OverviewChart = () => {\n  const {\n    state: { tasks }\n  } = useContext(RootContext);\n  return <Chart tasks={tasks} />;\n};\n","import * as React from \"react\";\nimport { UserTasks } from \"./UserTasks\";\nimport { UnEstimatedTasks } from \"./UnEstimatedTasks\";\nimport { OverviewChart } from \"./OverviewChart\";\n\nexport const OverView = () => (\n  <>\n    <UserTasks />\n    <UnEstimatedTasks />\n    <OverviewChart />\n  </>\n);\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { RootContext } from \"./Provider\";\nimport { Table } from \"reactstrap\";\nimport { ITask, IUser } from \"./store\";\nimport { getCustomAttr, getCustomVal, Medal } from \"./UserTasks\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faExternalLinkAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport classNames from \"classnames\";\n\nimport styles from \"./PersonalTasks.module.css\";\n\nconst UserStoryLink = ({ url, item }: { url: string; item: ITask }) => {\n  const {\n    user_story_extra_info,\n    project_extra_info: { slug }\n  } = item;\n  const usName = user_story_extra_info\n    ? `#${user_story_extra_info.ref} ${user_story_extra_info.subject}`\n    : undefined;\n  const href = user_story_extra_info\n    ? `${url}/project/${slug}/us/${user_story_extra_info.ref}`\n    : \"#\";\n\n  if (usName) {\n    return (\n      <a href={href} target=\"_blank\" title={usName}>\n        <FontAwesomeIcon icon={faExternalLinkAlt} /> {usName}\n      </a>\n    );\n  } else {\n    return <>(Unassigned tasks)</>;\n  }\n};\n\nconst TaskLink = ({ url, item }: { url: string; item: ITask }) => {\n  const taskName = `#${item.ref} ${item.subject}`;\n  const href = `${url}/project/${item.project_extra_info.slug}/task/${\n    item.ref\n  }`;\n  return (\n    <a href={href} target=\"_blank\" title={taskName}>\n      <FontAwesomeIcon icon={faExternalLinkAlt} /> {taskName}\n    </a>\n  );\n};\n\nexport const PersonalTasks = ({ userInfo }: { userInfo: IUser }) => {\n  const {\n    state: {\n      url,\n      tasks,\n      custom_attrs,\n      custom_value_map,\n      custom_eid,\n      custom_rid,\n      biz_days\n    }\n  } = useContext(RootContext);\n  const [items, setItems] = useState<ITask[]>([]);\n  useEffect(() => {\n    const userTasks = tasks\n      .filter(task => task.assigned_to === userInfo.id)\n      .sort((a, b) => a.user_story - b.user_story);\n    setItems(userTasks);\n  }, [tasks]);\n\n  const customAttrE = getCustomAttr(custom_attrs, Number(custom_eid));\n  const customAttrR = getCustomAttr(custom_attrs, Number(custom_rid));\n  if (!customAttrE || !customAttrR || biz_days.length <= 1) {\n    return null;\n  }\n\n  let totalE = 0;\n  let totalR = 0;\n  items.forEach(item => {\n    totalE = totalE + getCustomVal(custom_value_map, item, customAttrE.id);\n    totalR = totalR + getCustomVal(custom_value_map, item, customAttrR.id);\n  });\n\n  return (\n    <Table bordered size=\"sm\" className={styles.overflow}>\n      <thead>\n        <tr>\n          <th>User story</th>\n          <th>Task name</th>\n          <th>Status</th>\n          <th>{customAttrE.name}</th>\n          <th>{customAttrR.name}</th>\n          <th>Grade</th>\n        </tr>\n      </thead>\n      <tbody>\n        {/* tasks */}\n        {items.map(item => {\n          const e = getCustomVal(custom_value_map, item, customAttrE.id);\n          const r = getCustomVal(custom_value_map, item, customAttrR.id);\n          return (\n            <tr key={item.id}>\n              <td className={item.is_closed ? \"table-secondary\" : undefined}>\n                <UserStoryLink url={url} item={item} />\n              </td>\n              <td className={item.is_closed ? \"table-secondary\" : undefined}>\n                <TaskLink url={url} item={item} />\n              </td>\n              <td className={item.is_closed ? \"table-secondary\" : undefined}>\n                {item.status_extra_info.name}\n              </td>\n              <td className=\"text-right\">{e}</td>\n              <td\n                className={classNames(\n                  \"text-right\",\n                  r > e ? \"text-danger\" : undefined\n                )}\n              >\n                {r}\n              </td>\n              <td>\n                <Medal e={e} r={r} />\n              </td>\n            </tr>\n          );\n        })}\n        {/* total */}\n        <tr>\n          <td colSpan={3}>Total</td>\n          <td className=\"text-right\">{totalE}</td>\n          <td\n            className={classNames(\n              \"text-right\",\n              totalR > totalE ? \"text-danger\" : undefined\n            )}\n          >\n            {totalR}\n          </td>\n          <td>\n            <Medal e={totalE} r={totalR} />\n          </td>\n        </tr>\n      </tbody>\n    </Table>\n  );\n};\n","import React from \"react\";\nimport { Card, CardHeader } from \"reactstrap\";\nimport { IUser } from \"./store\";\n\nimport styles from \"./PersonalInfo.module.css\";\n\nexport const PersonalInfo = ({ userInfo }: { userInfo: IUser }) => {\n  const imgSrc = userInfo.photo || `http://i.pravatar.cc/80?u=${Math.random()}`;\n  return (\n    <Card>\n      <CardHeader>\n        <img className={styles.avator} src={imgSrc} />\n        {` ${userInfo.username}'s tasks`}\n      </CardHeader>\n    </Card>\n  );\n};\n","import React, { useContext, useState, useEffect } from \"react\";\nimport { ITask, IUser } from \"./store\";\nimport _ from \"lodash\";\nimport { RootContext } from \"./Provider\";\nimport { Chart } from \"./Chart\";\n\nexport const PersonalChart = ({ userInfo }: { userInfo: IUser }) => {\n  const [userTasks, setUserTasks] = useState<ITask[]>([]);\n  const {\n    state: { tasks }\n  } = useContext(RootContext);\n  useEffect(() => {\n    const userTasks = tasks\n      .filter(task => task.assigned_to === userInfo.id)\n      .sort((a, b) => a.user_story - b.user_story);\n    setUserTasks(userTasks);\n  }, [tasks]);\n\n  return <Chart tasks={userTasks} />;\n};\n","import * as React from \"react\";\nimport axios from \"axios\";\nimport { RouteComponentProps } from \"react-router\";\nimport { Button, Alert, Navbar } from \"reactstrap\";\nimport { PersonalTasks } from \"./PersonalTasks\";\nimport { PersonalInfo } from \"./PersonalInfo\";\nimport { useContext, useEffect, useState } from \"react\";\nimport { RootContext, baseUrl } from \"./Provider\";\nimport { IUser } from \"./store\";\nimport { PersonalChart } from \"./PersonalChart\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faSyncAlt,\n  faArrowCircleLeft\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { Link } from \"react-router-dom\";\n\nexport const PersonalPage = (props: RouteComponentProps<{ uid: string }>) => {\n  const {\n    state: { url },\n    updateData\n  } = useContext(RootContext);\n  const [userInfo, setUserInfo] = useState<IUser | undefined>(undefined);\n  useEffect(() => {\n    if (url) {\n      (async () => {\n        const { data } = await axios.get<IUser>(\n          `${baseUrl(url)}/users/${props.match.params.uid}`\n        );\n        setUserInfo(data);\n      })();\n    }\n  }, [url, setUserInfo]);\n\n  return (\n    <>\n      <Navbar color=\"light\" light>\n        <Button tag={Link} to=\"/\">\n          <FontAwesomeIcon icon={faArrowCircleLeft} /> Go back\n        </Button>\n        <Button onClick={updateData}>\n          <FontAwesomeIcon icon={faSyncAlt} />\n        </Button>\n      </Navbar>\n      {userInfo ? (\n        <>\n          <PersonalInfo userInfo={userInfo} />\n          <PersonalTasks userInfo={userInfo} />\n          <PersonalChart userInfo={userInfo} />\n        </>\n      ) : (\n        <Alert color=\"danger\">This user does not exist.</Alert>\n      )}\n    </>\n  );\n};\n","import React from \"react\";\nimport { Controller } from \"./Controller\";\nimport { Provider } from \"./Provider\";\nimport { HashRouter, Route } from \"react-router-dom\";\nimport { OverView } from \"./OverView\";\nimport { PersonalPage } from \"./PersonalPage\";\nexport const App = () => (\n  <div className=\"container\">\n    <HashRouter>\n      <Provider>\n        <Controller />\n        <Route exact path=\"/\" component={OverView} />\n        <Route exact path=\"/:uid\" component={PersonalPage} />\n      </Provider>\n    </HashRouter>\n  </div>\n);\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gold\":\"UserTasks_gold__2LmWS\",\"silver\":\"UserTasks_silver__3J9rP\",\"bronze\":\"UserTasks_bronze__17lf1\",\"custom_input_td\":\"UserTasks_custom_input_td__ReE1r\",\"avator\":\"UserTasks_avator__bIejc\"};"],"sourceRoot":""}